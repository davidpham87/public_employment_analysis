'Netherlands', 'Sweden', 'Australia', 'United Kingdom', 'United States', 'New
Zealand'))
subset(d.countries, name %in% c('Greece', 'Italy', 'Norway', 'Belgium', 'Denmark', 'Germany', 'Ireland',
'Spain', 'Switzerland', 'Austria', 'France', 'Portugal', 'Canada', 'Finland',
'Netherlands', 'Sweden', 'Australia', 'United Kingdom', 'United States', 'New
Zealand'))$a3
subset(d.countries, name %in% c('Greece', 'Italy', 'Norway', 'Belgium', 'Denmark', 'Germany', 'Ireland',
'Spain', 'Switzerland', 'Austria', 'France', 'Portugal', 'Canada', 'Finland',
'Netherlands', 'Sweden', 'Australia', 'United Kingdom', 'United States', 'New
Zealand'))[, a2]
subset(d.countries, name %in% c('Greece', 'Italy', 'Norway', 'Belgium', 'Denmark', 'Germany', 'Ireland',
'Spain', 'Switzerland', 'Austria', 'France', 'Portugal', 'Canada', 'Finland',
'Netherlands', 'Sweden', 'Australia', 'United Kingdom', 'United States', 'New
Zealand'))[, 3]
subset(d.countries, name %in% c('Greece', 'Italy', 'Norway', 'Belgium', 'Denmark', 'Germany', 'Ireland',
'Spain', 'Switzerland', 'Austria', 'France', 'Portugal', 'Canada', 'Finland',
'Netherlands', 'Sweden', 'Australia', 'United Kingdom', 'United States', 'New
Zealand'))[, 3, drop=F]
lcols
cols
deo.desc[cols]
eo.desc[cols]
eos[[1]]
colnames(eos[[1]])
eo.desc
data.frame(eo.desc)
data.frame(eo.desc)
x.new
gg <- ggplot(x.new, aes(TIME, exp(lpoptot))) + geom_line() + facet_wrap(~country)
library(plotly)
ggplotly(gg)
gg <- ggplot(melt(x.new[, list(TIME, country, lpop, lpoptot)], id.vars=c('TIME', 'country')), aes(TIME, value)) + geom_line(aes(color=variable)) + facet_wrap(~country)
gg
gg <- ggplot(melt(x.new[, list(TIME, country, lpop, lpoptot)], id.vars=c('TIME', 'country')), aes(TIME, exp(value))) + geom_line(aes(color=variable)) + facet_wrap(~country)
ggplotly(gg)
gg
gg
plot.data
plot.data
head(plot.data, 20)
head(plot.data, 50)
head(plot.data, 100)
head(plot.data[order(TIME, country)], 100)
head(plot.data[order(country, TIME)], 100)
head(plot.data[order(country, TIME)], 100)
gg
x
x[, gdp]
library(lattice)
ggplot(x, aes(TIME, gdp)) + facet_wrap(. ~ country)
head(x)
ggplot(as.data.frame(x), aes(TIME, gdp)) + facet_wrap(. ~ country)
ggplot(x, aes(TIME, gdp)) + geom_line() + facet_wrap(. ~ country)
ggplot(x, aes(TIME, gdp)) + geom_line() + facet_wrap( ~ country)
ggplot(x, aes(TIME, gdpv)) + geom_line() + facet_wrap( ~ country)
ggplot(x.new, aes(TIME, gdp_per_capita)) + geom_line() + facet_wrap( ~ country)
x[J('USA', 'JPN')],
x[J('USA', 'JPN')]
x.new
n
args
list(...)
as.symbol(...)
expression(...)
bquote(...)
c
n
args
arg
n
arg
lapply(arg, as.symbol)
c
n
n
args
arg
x.new
x.new[, eval(arg)]
x.new[, arg]
x.new[, lapply(arg, function(i) i)]
x.new[, lapply(arg, function(x) x)]
c
c
x.new
plot.data
fread('../data/imf_gfs_scores_cleaned.csv')
x.new
colnames(x.new)
fread('../data/imf_gfs_scores_cleaned.csv')
fread('../data/imf_gfs_scores_cleaned.csv')$TIME
fread('../data/gini_cleaned.csv')$TIME
new.data
na.omit(new.data$fiscal_transparency)
new.data$fiscal_transparency
new.data[, list(TIME, fiscal_transparency)]
new.data[, list(TIME, country, fiscal_transparency)]
new.data[, list(TIME, location, fiscal_transparency)]
na.omit(new.data[, list(TIME, location, fiscal_transparency)])
ggplot(na.omit(new.data[, list(TIME, location, fiscal_transparency)]), aes(TIME, fiscal_transparency)) + geom_line() + facet_wrap(~ country)
ggplot(na.omit(new.data[, list(TIME, location, fiscal_transparency)]), aes(TIME, fiscal_transparency)) + geom_line() + facet_wrap(~ location)
x.new
nrow(x.new)
cols.extended
x.new
cols
cols.extended
unique(cols.extended)
cols
cols.extended
x.lm.s$data
str(x.lm.s)
x.lm.s$model
nrow(str(x.lm.s))
nrow(x.lm.s$model)
as.data.ble(x.lm.s$model)
as.data.table(x.lm.s$model)
eo.desc
as.data.frame(eo.desc)
x.new
x.new
cols
imf.gfs
imf.gfs
imf.gfs
img.fs
imf.gfs
img.gfs
imf.gfs
x.new
x.new[, list(country, fiscal_transparency)]
unique(x.new[, list(country, fiscal_transparency)])
unique(x.new[, list(country, fiscal_transparency)]$country)
x.new
x.new
x.new$imf_gfs
x.lm.s$model
x.lm$model
data.table(x.lm$model)
library(plotly)
gg
data.plot
'
)
'
plot(x.lm)
x.lm$model
eo.desc[[cols]
]
eo.desc[cols]
head(x[, gdpv])
head(x[, list(country, gdpv)])
122610101941*1e-6
122610101941*1e-9
head(x[, list(country, gdpv, ydrh, ydrh/gdpv)])
head(eos[[1]][, list(country, gdpv, ydrh, ydrh/gdpv)])
eo.desc['ydrh']
eos[[1]][country.a]
eos[[1]][country.a][, head(.SD, 5), by='country']
eos[[1]][country.a][, tail(.SD, 1), by='country'][
]
eos[[1]][country.a][TIME==2014[, tail(.SD, 1), by='country']
]
eos[[1]][country.a][TIME==2014][, tail(.SD, 1), by='country']
eo.desc['yrh']
eos[[1]][country.a][TIME==2014][, tail(.SD, 1), by='country'][, list(country, ydrh, gdpv)]
x.lm$model
nrow(x.lm$model)
x.simple.model
x.lm.s
x.step.loww
x.step.low
x.lm.lower
x.lm
x.step.up
x.lm
summary(x.lm)
incomeineq.lm$model
nrow(incomeineq.lm$model)
as.data.table(incomeineq.lm$model)
as.data.table(lpoptot.lm$model)
as.data.table(incomeineq.lm$model)
setkey(x.new, TIME, country)
)
img.gfs
imf.gfs
x.new
x.new
ls
getwd()
setwd('/R')
setwd('"/home/david/gdrive/ETHZ/public_employment/PublicEmploymentAnalysis/R"e)
)
'
"
'
'
'"
setwd("/home/david/gdrive/ETHZ/public_employment/PublicEmploymentAnalysis/R")
gini
gini.metl
gini.melt
2
n
getwd()
p
x
cf.eda <- readRDS('../data/lasso-coeff.rds')
cf.eda
cf.eda[, V2]
eo.desc[cf.eda[, V2]]
eo.desc[cf.eda[, V2]][substr(VARIABLE, 1, 7) != 'country']
nrow(x)
summary(x.lm)
compareValue(x, yrh='yrh')
compareValue(x, yrh='ydrh')
compareValue(x, yrh='ydrh_to_gdpv')
compareValue(x, egr='egr')
x
eo.a$TIME
as.double(eo.a$TIME)
col
col.new
eo.a
eo.q
eos[[2]]
eo.q
]
eo.q[, TIME] 
compareValue(eo.q[country=='USA'], ydrh='ydrh', ydrh.i='ydrh_interpolated')
compareValue(eo.q, ydrh='ydrh', ydrh.i='ydrh_interpolated')
compareValue(eo.q[country.q], ydrh='ydrh', ydrh.i='ydrh_interpolated')
country.q
country.a
x
x[, unique(country)]
warnings()
eo.q[country=='HUN']
warnings()
eos[[2]]
eo.a
eo.a
eq.q
eo.q
eo.q
eo.q
eo.q
compareValue(eo.q, x='ydrh', y='ydrh_interpolated')
eo.q
warnings()
eo.qi
eo.qi
eo.qi
eo.qi
eo.qi
eo.qi
x
x
head(x)
x.lm$model
x[, is.na(egr)]
x[, is.na(gdpv_annpct)]
x[, cols]
x[, cols, with=FALSE]
na.pattern(x[, cols, with=FALSE])
library(Hmisc)
na.pattern(x[, cols, with=FALSE])
cols
new.data
new.data[, fiscal_transparency]
eo.q
eo.q
eo.q
x.lm
na.pattern(x)
na.pattern(x[, cols])
na.pattern(x[, cols, with=F])
cols
eo.q[is.na(gdpv_annpct)]
cols
na.pattern(x[, cols, with=F])
x['BEL', cols]
x['BEL']
setkey(x, country)
x['BEL']
x['BEL', cols, with=F]
na.pattern(x['BEL', cols, with=F])
x.lm$model
data.plot
quarters.time
data.plot[, paste(YEAR, '-', QUARTER)]
quarters.time
data.plot
dev.off()
max.time
max.time
lassen
lassen
imf.gfs
x.imf.gfs
imf.gfs
colnames(imf.gfs)
x.lassen
x.img.fs
x.imf.gfs
x.imf.gfs
x.imf.gfs
install.packages('plm')
plm
plm
ff
ff
ff
help(dynaformula)
help(dynformula)
ff
ff
ff
ff
ff
ff.dyn
x[, cols]
x.plm
x.plm
lm(ff, x[, cols, with=FALSE])
x.lm
diff(c(1, 2, 4, 8))
ff.dyn
traceback()
x
compareValue(x, egr='egr')
par(mfrow=c(2,2))
plot(x.lm)
ff
wrapFormula
plot(x.lm.s)
plot(x.lm)
diff(c(1, 2, 4, 8), arithmetic=F)
diff(c(1, 2, 4, 8), arithmetic=T)
diff(c(1, 2, 4, 8), arithmetic=F)
diff(c(1, 2, 2, 2), arithmetic=F)
diff(c(1, 2, 2, 2), arithmetic=FALSE)
help(diff()
help(diff)
lag(c(1, 2, 3))
lag(c(1, 2, 3), 2)
lag(c(1, 2, 3), 1)
lag(c(1, 2, 3), 2)
lag(c(1, 2, 3), -1)
x.lm
x.lm
summary(x.lm)
x.lm
residuals(x.lm)
plot(residuals(x.lm))
gam.check(x.lm)
plot(gam.check(x.lm))
gam.check(x.lm)
wrapFormula
par(mfrow=c(2, 2))
x.lm.s
plot(x.lm)
install.packages('dynlm')
x.lm.s
library(dynlm)
)
)
summary(x.gam)
terms(x[, cols, with=FALSE], egr ~ . )
terms(data=x[, cols, with=FALSE], egr ~ . )
wrapFormula
form <- formula(terms(egr ~ ., data = x[, cols, with=FALSE]))
form
gls(form, x[, cols, with=FALSE])
gls(form, as.data.frame(x[, cols, with=FALSE]))
gls(form, na.omit(as.data.frame(x[, cols, with=FALSE])))
x.gls
summary(x.gls)
plot(x.lgs)
plot(x.gls)
par(mfrow=c(2,2))
plot(x.lm)
x.gls
summary(x.gls)
plot(x.gls)
summary(x.gls)
x.gls
summary(x.gls)
coef(summary(x.gls))
summary(x.gls)$coefficient
str(summary(x.gls))
summary(x.gls)$varBeta
anova(x.gls)
summary(anova(x.gls))
anova(x.gls)
str(incomeineq.lm, 1)
x.new
x.new[, cols.extended]
x.new[, cols.extended, with=FALSE]
cols.extended
data.plot
colnames(x.new)
)
]
)
}
}
)
cols.extended
stargazer(x.lm)
stargazer(x.lm, title='Regression with main variables', out='lm.tex'))
stargazer(x.lm, title='Regression with main variables', out='lm.tex')
help(stargazer)
str(x.lm, 1)
names(coef(x.lm))
names(coef(x.lm))
cov.labs
cov.labs
cov.labs
colnames(x.lm$model)
description
colnames(x.lm$model)
lpop.lm
names(lpop.lm)
names(coef(lpop.lm))
summary(lpop.lm)
x.lm.s
x
x$TIME
time.numeric
x$TIME
x <- 1:5
x
c(NA, lag(x, 1)
)
c(NA, lag(x, -1))
c(NA, lag(x, 1))
help(lag)
c(NA, lag(x, -1))
head(x[, cols])
head(x[, cols, with=F])
x.lms
x.lm.s
par(mfrow=c(2, 2))
plot(x.lm)
x.lm
)
form
dform
dform
dform
data.plm
dform
summary(x.lm)
summary(x.lm)
var(egr)
x[, var(egr)]
var(x.lm$residuals)
summary(x.lm)
plot(x.lm)
plot(x.lm)
lm(egr ~ country, x)
summary(lm(egr ~ country, x))
summary(x.lm)
x.lm.s
x.lm
summary(x.lm)
x.lm.s
dfrom
dform
summary(x.lm)
x.lm.s
x[, pacf(egr)]
x[, acf(egr)]
x[, acf(egr), by='country']
summary(x.lm)
x.lm.s
x.lm.s
showdiag(x.lm)
na.omit(x[, cols, with=F])
na.omit(x[, cols, with=F])[153]
na.omit(x[, c(cols, 'country'), with=F])[153]
na.omit(x[, c(cols, 'country'), with=F])[260]
y.fitted
y.fat
x.model.lm
as.data.table(cbind(x.model.lm, y.fit))
x.model.lm[, TIME]
x.model.lm[, TIME]
x.model.lm[, lvl2num(TIME)]
cols
x.model.lm
gsub('_', '\\_', colnames(x.model.lm)) 
colnames(x.model.lm)
colnames(x.model.lm)
data.plm
data.plm
form
dform
dynlm(dform, data.plm)
